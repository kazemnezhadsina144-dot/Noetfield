<!-- /gate/sales/index.html — Noetfield Sales v2.1 (Direct Checkout + Buyer Split + Procurement Path) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Noetfield — Sales</title>
  <meta name="description" content="Direct purchase/start page. Card checkout for standard scopes, Gate-first intake for kickoff, and a procurement (Invoice/PO) path with a ready summary." />
  <meta name="robots" content="index,follow" />
  <meta name="author" content="Noetfield Systems Inc." />
  <meta name="theme-color" content="#07070b" />

  <link rel="canonical" href="https://www.noetfield.com/gate/sales/" />
  <link rel="icon" href="/noetfield-favicon-512.png" type="image/png" />
  <link rel="apple-touch-icon" href="/noetfield-favicon-512.png" />

  <!-- OG -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Noetfield" />
  <meta property="og:title" content="Noetfield — Sales" />
  <meta property="og:description" content="Direct purchase/start page. Card checkout + Gate-first start + Invoice/PO procurement path." />
  <meta property="og:url" content="https://www.noetfield.com/gate/sales/" />
  <meta property="og:image" content="https://www.noetfield.com/noetfield-og.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Noetfield — Sales" />
  <meta name="twitter:description" content="Direct purchase/start page. Card checkout + Gate-first start + Invoice/PO procurement path." />
  <meta name="twitter:image" content="https://www.noetfield.com/noetfield-og.png" />

  <!-- Fonts (optional if already loaded globally) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />

  <!-- LOCKED SHELL -->
  <link rel="stylesheet" href="/assets/noetfield-shell.css" />
  <script src="/assets/noetfield-shell.js" defer></script>

  <style>
    /* Hero (Playbook/Trust Ledger-like) */
    .hero{padding:18px 0 12px}
    .heroShell{
      position:relative;
      border-radius: calc(var(--radius) + 8px);
      border: 1px solid rgba(255,255,255,.11);
      background:
        radial-gradient(1000px 420px at 18% 0%, rgba(200,163,73,.18), transparent 60%),
        radial-gradient(1000px 420px at 90% 10%, rgba(122,167,255,.10), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.022));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .heroShell::before{
      content:"";
      position:absolute; inset:-1px;
      background: linear-gradient(120deg, rgba(200,163,73,.26), transparent 30%, rgba(255,255,255,.08) 68%, transparent);
      opacity:.44;
      pointer-events:none;
      mask-image: linear-gradient(180deg, black 0%, black 58%, transparent 96%);
    }
    .heroInner{padding: 22px 18px; position:relative; z-index:1}

    .eyebrow{
      display:inline-flex; gap:10px; align-items:center;
      color:var(--muted);
      font-size:13px;
      padding:9px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.13);
      background: rgba(255,255,255,.035);
    }
    .dot{
      width:8px; height:8px; border-radius:50%;
      background: rgba(200,163,73,.97);
      box-shadow: 0 0 0 3px rgba(200,163,73,.18);
    }

    h1{margin:12px 0 10px; font-size:34px; line-height:1.07; letter-spacing:-0.75px}
    .lead{margin:0; color:var(--muted); font-size:16px; max-width: 1040px; line-height:1.75}
    .lead strong{color:var(--text); font-weight:900}

    .metaRow{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px}
    .pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:9px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color:var(--muted);
      font-size:13px;
      white-space:nowrap;
    }
    .pill strong{color:var(--text); font-weight:900}

    /* Layout */
    .grid{
      display:grid;
      grid-template-columns: 1.12fr .88fr;
      gap:16px;
      margin: 14px 0 34px;
      align-items:start;
    }

    .card{
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.11);
      background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.022));
      box-shadow: var(--shadow2);
      overflow:hidden;
      min-width:0;
    }
    .hd{ padding:18px 18px 0; }
    .bd{ padding:18px; }
    .cardTitle{ margin:0 0 8px; font-size:18px; letter-spacing:-0.2px; }
    .muted{ color:var(--muted); line-height:1.7; margin:0; }

    .notice{
      margin-top:12px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color:var(--muted2);
      font-size:12.8px;
      line-height:1.6;
    }
    .notice strong{ color:var(--text); font-weight:900; }
    .notice a{ border-bottom:1px solid rgba(255,255,255,.18); }

    /* Buttons */
    .actions{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:12px}
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--text);
      text-decoration:none;
      transition: transform .12s ease, border-color .15s ease, background .15s ease, opacity .15s ease;
      white-space:nowrap;
      min-height:44px;
      cursor:pointer;
    }
    .btn:hover{transform: translateY(-1px); border-color:rgba(255,255,255,.22); background:rgba(255,255,255,.05)}
    .btn:active{transform: translateY(1px)}
    .btn.secondary{opacity:.92}
    .btn.primary{
      border-color: transparent;
      background: linear-gradient(135deg,#f9fafb,#e5e7eb);
      color:#07070b;
      font-weight:900;
    }
    .btn.ghost{
      background: transparent;
      border-color: rgba(255,255,255,.16);
    }
    .btn.disabled{
      opacity:.45;
      pointer-events:none;
      filter: grayscale(15%);
    }

    /* Offer cards */
    .offers{ display:grid; gap:12px; margin-top:12px; }
    .offer{
      border-radius:16px;
      border:1px solid rgba(255,255,255,.11);
      background: rgba(255,255,255,.03);
      padding:14px;
      overflow:hidden;
      transition: border-color .15s ease, background .15s ease, transform .06s ease;
    }
    .offer:hover{border-color:rgba(255,255,255,.22); background:rgba(255,255,255,.05)}
    .offer:active{transform: translateY(1px)}
    .offer.isActive{
      border-color: rgba(200,163,73,.34);
      box-shadow: 0 0 0 3px rgba(200,163,73,.10);
      background: rgba(255,255,255,.045);
    }
    .offerTop{ display:flex; gap:10px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap; }
    .offer h3{ margin:0; font-size:16px; letter-spacing:-.2px; font-weight:950; }
    .tag{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color:var(--muted2);
      font-size:12.4px;
      white-space:nowrap;
    }
    .offer p{ margin:10px 0 0; color:var(--muted); line-height:1.7; }
    .offer ul{ margin:10px 0 0; padding-left:18px; color:var(--muted2); line-height:1.6; }
    .offer li{ margin:6px 0; }

    .offerMeta{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
    .kv{
      display:inline-flex; gap:8px; align-items:center;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.02);
      color:var(--muted2);
      font-size:12.4px;
      white-space:nowrap;
    }
    .kv strong{ color:var(--text); font-weight:900; }

    .offerActions{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:12px; }
    .offerActions .btn{ min-height:44px; }

    /* Buyer split toggle */
    .seg{
      display:flex; gap:0;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.02);
      overflow:hidden;
    }
    .seg button{
      appearance:none;
      border:0;
      background: transparent;
      color: var(--muted2);
      padding:10px 12px;
      font-size:12.6px;
      cursor:pointer;
      white-space:nowrap;
      min-height:40px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
    }
    .seg button strong{ color:var(--text); font-weight:900; }
    .seg button.isOn{
      background: rgba(255,255,255,.06);
      color: var(--text);
    }

    /* Rail */
    .rail{ position: sticky; top: 14px; }
    .railBox{
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.11);
      background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.022));
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .kpi{
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding:12px;
      margin-top:12px;
      color:var(--muted2);
      font-size:12.8px;
      line-height:1.6;
    }
    .kpi strong{ color:var(--text); font-weight:900; }
    .mini{ margin-top:10px; color:var(--muted2); font-size:12.6px; line-height:1.6; }
    .mini a{ border-bottom:1px solid rgba(255,255,255,.18); }

    /* Summary builder */
    .ridBox{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.02);
      color:var(--muted2);
      font-size:12.6px;
      line-height:1.55;
      word-break:break-word;
    }
    .ridBox code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: var(--text);
      font-weight: 800;
      font-size: 12.8px;
    }
    .field{ margin-top:10px; }
    label{ display:block; color:var(--muted2); font-size:12px; letter-spacing:.26em; text-transform:uppercase; margin:0 0 8px; }
    select, textarea{
      width:100%;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.02);
      color: var(--text);
      padding:10px 12px;
      outline:none;
      font-size:14px;
    }
    textarea{ min-height: 132px; resize: vertical; line-height:1.55; color: var(--muted2); }

    /* Match header tag style */
    #nfHeader .brandText .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size:12px;
      white-space:nowrap;
    }

    /* Desktop boxed/floating header */
    @media (min-width: 981px){
      #nfHeader{
        position: sticky;
        top: 0;
        z-index: 60;
        padding: 12px 16px 0;
        background: transparent !important;
        border: 0 !important;
        border-bottom: 0 !important;
        box-shadow: none !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
      }
      #nfHeader::before, #nfHeader::after{content:none !important; display:none !important;}
      #nfHeader .nav{
        width: min(1200px, calc(100% - 32px));
        margin: 0 auto;
        border-radius: 18px;
        border: 1px solid rgba(255,255,255,.11);
        background: rgba(10,10,16,.55);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: var(--shadow2);
      }
    }

    @media (max-width: 980px){
      #nfHeader{padding:0}
      .grid{ grid-template-columns: 1fr; }
      .rail{ position: relative; top: 0; }
      h1{ font-size: 30px; }
    }
  </style>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Noetfield — Sales",
    "url":"https://www.noetfield.com/gate/sales/",
    "description":"Direct purchase/start page. Card checkout for standard scopes, Gate-first intake for kickoff, and a procurement (Invoice/PO) path with a ready summary.",
    "isPartOf":{"@type":"WebSite","name":"Noetfield","url":"https://www.noetfield.com/"},
    "publisher":{"@type":"Organization","name":"Noetfield Systems Inc."}
  }
  </script>

  <script>
    (function(){
      /* ===========================
         CONFIG: set checkout links
         - Leave "" to disable card checkout for that offer.
         - These URLs can be Stripe Checkout / Payment Links / other hosted checkout.
      =========================== */
      var NF_CHECKOUT = {
        quickscan: "",   // e.g., "https://buy.stripe.com/xxxx"
        trustbrief: "",  // e.g., "https://buy.stripe.com/yyyy"
        trustledger: "", // usually not direct checkout (ongoing) => keep empty or use "setup deposit" link
        playbook: ""     // e.g., "https://buy.stripe.com/zzzz"
      };

      /* Offer model (edit ranges/text freely) */
      var OFFERS = {
        quickscan: {
          key:"quickscan",
          name:"Copilot QuickScan",
          timeline:"5–7 business days",
          indicative:"$3,500–$9,500 CAD (pre-tax)",
          need:"quickscan",
          focus:"quickscan",
          details:"/copilot/quickscan/",
          bullets:[
            "Decision-ready executive memo",
            "Boundary and exposure map",
            "Prioritized control checklist"
          ],
          bestFor:"Copilot rollout; quick leadership decision; initial control baseline."
        },
        trustbrief: {
          key:"trustbrief",
          name:"Trust Brief (6-week)",
          timeline:"6 weeks",
          indicative:"$12,000–$35,000 CAD (pre-tax)",
          need:"trustbrief",
          focus:"brief",
          details:"/trust-brief/",
          bullets:[
            "Material AI use-case map + owners",
            "Decision gates + operating model draft",
            "Board-ready roadmap + first ledger entries"
          ],
          bestFor:"Board/regulator pressure; audit questions; high materiality."
        },
        trustledger: {
          key:"trustledger",
          name:"Trust Ledger",
          timeline:"Setup + monthly cadence",
          indicative:"Setup $6,000–$25,000 + $750–$4,500/mo (pre-tax)",
          need:"trustledger",
          focus:"ledger",
          details:"/trust-ledger/",
          bullets:[
            "Ledger register + evidence index",
            "Board export cadence (agreed)",
            "Change trail + exception discipline"
          ],
          bestFor:"Recurring scrutiny; ongoing governance operations."
        },
        playbook: {
          key:"playbook",
          name:"Playbook Pro",
          timeline:"One-time (upgrade path)",
          indicative:"$250–$8,000 CAD (pre-tax)",
          need:"playbook-pro",
          focus:"playbook",
          details:"/playbook/pro/",
          bullets:[
            "Reusable governance templates",
            "Client/board-ready brief structures",
            "Routes into delivery packages"
          ],
          bestFor:"Enablement; teams/agencies needing a fast governance pattern."
        }
      };

      /* Utilities */
      function pad(n){ return String(n).padStart(2,'0'); }
      function todayStamp(){
        var d = new Date();
        return d.getFullYear() + pad(d.getMonth()+1) + pad(d.getDate());
      }
      function rand6(){
        var chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
        var out = "";
        for (var i=0;i<6;i++) out += chars.charAt(Math.floor(Math.random()*chars.length));
        return out;
      }
      function esc(s){
        return String(s || "")
          .replace(/&/g,"&amp;")
          .replace(/</g,"&lt;")
          .replace(/>/g,"&gt;")
          .replace(/"/g,"&quot;");
      }
      function getQS(name){
        var p = new URLSearchParams(location.search);
        return p.get(name);
      }
      function setQS(name,val){
        var u = new URL(location.href);
        u.searchParams.set(name,val);
        history.replaceState({}, "", u.toString());
      }
      function ensureRID(){
        var rid = getQS("rid") || localStorage.getItem("nf_rid");
        if(!rid){ rid = "NF-" + todayStamp() + "-" + rand6(); }
        localStorage.setItem("nf_rid", rid);
        if(!getQS("rid")) setQS("rid", rid);
        return rid;
      }
      function appendRID(href, rid){
        try{
          var url = new URL(href, location.origin);
          if(!url.searchParams.get("rid")) url.searchParams.set("rid", rid);
          return url.pathname + url.search + url.hash;
        }catch(e){
          return href;
        }
      }
      function copyText(text){
        if(!text) return;
        if(navigator.clipboard && navigator.clipboard.writeText){
          navigator.clipboard.writeText(text).catch(function(){});
        }else{
          var tmp = document.createElement("textarea");
          tmp.value = text;
          document.body.appendChild(tmp);
          tmp.select();
          try{ document.execCommand("copy"); }catch(e){}
          document.body.removeChild(tmp);
        }
      }

      /* Buyer type: "card" | "proc" (persist) */
      function getBuyer(){
        return localStorage.getItem("nf_buyer") || "card";
      }
      function setBuyer(b){
        localStorage.setItem("nf_buyer", b);
      }

      /* Procurement summary */
      function buildProcSummary(rid, offerKey){
        var o = OFFERS[offerKey] || OFFERS.quickscan;
        var lines = [];
        lines.push("Noetfield — Procurement Summary");
        lines.push("Request ID: " + rid);
        lines.push("Selected offer: " + o.name);
        lines.push("Timeline: " + o.timeline);
        lines.push("Indicative pricing: " + o.indicative);
        lines.push("Note: Pricing discussed pre-tax. Applicable GST added at invoicing.");
        lines.push("");
        lines.push("What is included (typical):");
        for(var i=0;i<o.bullets.length;i++) lines.push("- " + o.bullets[i]);
        lines.push("");
        lines.push("Start intake (public, non-confidential):");
        lines.push(location.origin + appendRID("/gate/intake/?need=" + encodeURIComponent(o.need), rid));
        lines.push("");
        lines.push("Invoice/PO path:");
        lines.push(location.origin + appendRID("/gate/procurement/?focus=" + encodeURIComponent(o.focus), rid));
        return lines.join("\n");
      }

      function mailtoProc(rid, offerKey){
        var o = OFFERS[offerKey] || OFFERS.quickscan;
        var subject = "Noetfield procurement — " + o.name + " — " + rid;
        var body = buildProcSummary(rid, offerKey);
        return "mailto:procurement@noetfield.com?subject=" + encodeURIComponent(subject) + "&body=" + encodeURIComponent(body);
      }

      /* Card checkout link (RID appended if possible) */
      function checkoutHref(offerKey, rid){
        var u = NF_CHECKOUT[offerKey] || "";
        if(!u) return "";
        try{
          var url = new URL(u);
          // keep it simple: pass rid via query param if checkout supports it
          if(!url.searchParams.get("rid")) url.searchParams.set("rid", rid);
          return url.toString();
        }catch(e){
          return u;
        }
      }

      /* UI state */
      function setActiveOffer(offerKey){
        if(!OFFERS[offerKey]) offerKey = "quickscan";

        // highlight
        var cards = document.querySelectorAll("[data-offer]");
        for(var i=0;i<cards.length;i++){
          var k = cards[i].getAttribute("data-offer");
          cards[i].classList.toggle("isActive", k === offerKey);
        }

        // select sync
        var sel = document.getElementById("nfOfferSelect");
        if(sel) sel.value = offerKey;

        // selected label
        var selLbl = document.getElementById("nfSelected");
        if(selLbl) selLbl.innerHTML = "<strong>Selected:</strong> " + esc(OFFERS[offerKey].name);

        // summary
        var rid = localStorage.getItem("nf_rid") || "";
        var ta = document.getElementById("nfSummary");
        if(ta) ta.value = buildProcSummary(rid, offerKey);

        // Update rail primary CTA based on buyer type
        updateRailPrimaryCTA(offerKey);

        // Update per-offer primary CTA emphasis
        updateOfferCTAEmphasis(offerKey);

        // keep offer query param (optional)
        try{ setQS("offer", offerKey); }catch(e){}
      }

      function updateOfferCTAEmphasis(activeKey){
        var buyer = getBuyer();
        var rid = localStorage.getItem("nf_rid") || "";

        var keys = Object.keys(OFFERS);
        for(var i=0;i<keys.length;i++){
          var k = keys[i];
          var box = document.querySelector("[data-offer='"+k+"']");
          if(!box) continue;

          var payA = box.querySelector("a[data-cta='pay']");
          var startA = box.querySelector("a[data-cta='start']");
          var poA = box.querySelector("a[data-cta='po']");

          var href = checkoutHref(k, rid);
          if(payA){
            if(href){
              payA.setAttribute("href", href);
              payA.classList.remove("disabled");
              payA.setAttribute("aria-disabled", "false");
              payA.setAttribute("title", "Pay by card (standard scope)");
            }else{
              payA.removeAttribute("href");
              payA.classList.add("disabled");
              payA.setAttribute("aria-disabled", "true");
              payA.setAttribute("title", "Card checkout not enabled yet");
            }
          }

          // buyer emphasis rules:
          // - Card buyer: Pay is primary where enabled; otherwise Start is primary.
          // - Procurement buyer: Invoice/PO is primary; Start becomes secondary; Pay is ghost/secondary.
          if(buyer === "proc"){
            if(poA){ poA.classList.add("primary"); poA.classList.remove("secondary","ghost"); }
            if(startA){ startA.classList.add("secondary"); startA.classList.remove("primary","ghost"); }
            if(payA){ payA.classList.add("ghost"); payA.classList.remove("primary"); }
          }else{
            // card
            if(href){
              if(payA){ payA.classList.add("primary"); payA.classList.remove("secondary","ghost"); }
              if(startA){ startA.classList.add("secondary"); startA.classList.remove("primary","ghost"); }
              if(poA){ poA.classList.add("secondary"); poA.classList.remove("primary","ghost"); }
            }else{
              // no card checkout => Start is primary
              if(startA){ startA.classList.add("primary"); startA.classList.remove("secondary","ghost"); }
              if(payA){ payA.classList.add("ghost"); payA.classList.remove("primary"); }
              if(poA){ poA.classList.add("secondary"); poA.classList.remove("primary","ghost"); }
            }
          }
        }
      }

      function updateRailPrimaryCTA(activeKey){
        var buyer = getBuyer();
        var rid = localStorage.getItem("nf_rid") || "";
        var o = OFFERS[activeKey] || OFFERS.quickscan;

        var railPrimary = document.getElementById("nfRailPrimary");
        var railSecondary = document.getElementById("nfRailSecondary");
        var railTertiary = document.getElementById("nfRailTertiary");

        if(!railPrimary || !railSecondary || !railTertiary) return;

        // Always provide these two:
        railSecondary.setAttribute("href", appendRID("/gate/intake/?need=" + encodeURIComponent(o.need), rid));
        railTertiary.setAttribute("href", appendRID("/gate/procurement/?focus=" + encodeURIComponent(o.focus), rid));

        if(buyer === "proc"){
          railPrimary.textContent = "Invoice / PO (Procurement)";
          railPrimary.setAttribute("href", appendRID("/gate/procurement/?focus=" + encodeURIComponent(o.focus), rid));
        }else{
          var ch = checkoutHref(activeKey, rid);
          if(ch){
            railPrimary.textContent = "Pay by card (Checkout)";
            railPrimary.setAttribute("href", ch);
          }else{
            railPrimary.textContent = "Start via Gate (Intake)";
            railPrimary.setAttribute("href", appendRID("/gate/intake/?need=" + encodeURIComponent(o.need), rid));
          }
        }
      }

      function wireRID(rid){
        // Any link with data-rid=1 gets RID appended.
        var links = document.querySelectorAll("a[data-rid='1']");
        for (var i=0;i<links.length;i++){
          links[i].setAttribute("href", appendRID(links[i].getAttribute("href"), rid));
        }
      }

      function renderRID(rid){
        var el = document.getElementById("nfRID");
        if(!el) return;
        el.innerHTML = 'Request ID: <code>' + esc(rid) + '</code><br/>Used to keep starts, procurement, and summaries aligned.';
      }

      function renderBuyerUI(){
        var buyer = getBuyer();
        var bCard = document.getElementById("nfBuyerCard");
        var bProc = document.getElementById("nfBuyerProc");
        if(bCard) bCard.classList.toggle("isOn", buyer === "card");
        if(bProc) bProc.classList.toggle("isOn", buyer === "proc");

        var bNote = document.getElementById("nfBuyerNote");
        if(bNote){
          if(buyer === "proc"){
            bNote.innerHTML = "<strong>Procurement buyer:</strong> invoice/PO path is primary. Use the summary builder for internal approvals.";
          }else{
            bNote.innerHTML = "<strong>Card buyer:</strong> checkout is primary where enabled. Otherwise start via Gate for kickoff.";
          }
        }
      }

      document.addEventListener("DOMContentLoaded", function(){
        var rid = ensureRID();
        renderRID(rid);
        wireRID(rid);

        // set buyer from query if provided (optional)
        var qb = (getQS("buyer") || "").toLowerCase();
        if(qb === "card" || qb === "proc"){ setBuyer(qb); }

        // default offer selection
        var defaultOffer = getQS("offer") || "quickscan";
        if(!OFFERS[defaultOffer]) defaultOffer = "quickscan";

        // buyer toggle
        var bCard = document.getElementById("nfBuyerCard");
        var bProc = document.getElementById("nfBuyerProc");
        if(bCard){
          bCard.addEventListener("click", function(){
            setBuyer("card");
            renderBuyerUI();
            updateOfferCTAEmphasis(defaultOffer);
            updateRailPrimaryCTA(defaultOffer);
            try{ setQS("buyer","card"); }catch(e){}
          });
        }
        if(bProc){
          bProc.addEventListener("click", function(){
            setBuyer("proc");
            renderBuyerUI();
            updateOfferCTAEmphasis(defaultOffer);
            updateRailPrimaryCTA(defaultOffer);
            try{ setQS("buyer","proc"); }catch(e){}
          });
        }

        // Offer cards: click to select (except when clicking on controls)
        var cards = document.querySelectorAll("[data-offer]");
        for(var i=0;i<cards.length;i++){
          (function(el){
            el.addEventListener("click", function(e){
              var t = e.target;
              if(t && (t.tagName === "A" || t.tagName === "BUTTON" || t.tagName === "SELECT" || t.tagName === "TEXTAREA")) return;
              var k = el.getAttribute("data-offer");
              defaultOffer = k;
              setActiveOffer(k);
            });
          })(cards[i]);
        }

        // Offer select
        var sel = document.getElementById("nfOfferSelect");
        if(sel){
          sel.addEventListener("change", function(){
            defaultOffer = sel.value;
            setActiveOffer(sel.value);
          });
        }

        // Summary buttons
        var copyBtn = document.getElementById("nfCopy");
        if(copyBtn){
          copyBtn.addEventListener("click", function(){
            var ta = document.getElementById("nfSummary");
            if(ta) copyText(ta.value);
          });
        }
        var emailBtn = document.getElementById("nfEmail");
        if(emailBtn){
          emailBtn.addEventListener("click", function(){
            var offerKey = (document.getElementById("nfOfferSelect")||{}).value || "quickscan";
            location.href = mailtoProc(rid, offerKey);
          });
        }

        // Per-offer copy buttons
        var perCopy = document.querySelectorAll("[data-copy-offer]");
        for(var j=0;j<perCopy.length;j++){
          (function(btn){
            btn.addEventListener("click", function(e){
              e.preventDefault();
              e.stopPropagation();
              var offerKey = btn.getAttribute("data-copy-offer");
              copyText(buildProcSummary(rid, offerKey));
              defaultOffer = offerKey;
              setActiveOffer(offerKey);
            });
          })(perCopy[j]);
        }

        // Initial render
        renderBuyerUI();
        setActiveOffer(defaultOffer);
      });
    })();
  </script>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>
  <a class="skip" href="#main">Skip to content</a>

  <!-- injected header -->
  <header id="nfHeader"></header>

  <main id="main" class="wrap">
    <!-- HERO -->
    <section class="hero" aria-label="Sales hero">
      <div class="heroShell">
        <div class="heroInner">
          <div class="eyebrow"><span class="dot"></span> Sales • checkout or procurement • direct start</div>

          <h1>Sales (checkout + procurement).</h1>

          <p class="lead">
            Two buyer paths:
            <strong>Pay by card</strong> for standard scopes (when enabled),
            or <strong>Invoice / PO</strong> for procurement-led organisations.
            Either way, starts route through Gate when intake is required.
          </p>

          <div class="metaRow" aria-label="Sales facts">
            <div class="pill"><strong>Public intake</strong> non-confidential</div>
            <div class="pill"><strong>Pre-tax</strong> pricing discussed</div>
            <div class="pill"><strong>GST</strong> added at invoicing</div>
            <div class="pill"><strong>RID</strong> carried across links</div>
          </div>

          <div class="actions" aria-label="Hero actions">
            <a class="btn primary" data-rid="1" href="/gate/">Gate (routing)</a>
            <a class="btn secondary" data-rid="1" href="/gate/procurement/">Procurement (Invoice/PO)</a>
            <a class="btn secondary" href="/vendor/">Vendor page</a>
          </div>

          <div class="notice" role="note">
            <strong>Public intake = non-confidential.</strong>
            Do not submit secrets, credentials, private keys, or regulated personal data on public forms. Secure sharing options are confirmed after kickoff.
          </div>
        </div>
      </div>
    </section>

    <section class="grid" aria-label="Sales layout">
      <!-- LEFT -->
      <div>
        <section class="card" aria-label="Offers">
          <div class="hd">
            <h2 class="cardTitle">Offers</h2>
            <p class="muted">Select an offer. Card checkout is shown where enabled. Procurement can generate a ready summary and route to Invoice/PO.</p>
          </div>

          <div class="bd">
            <div class="offers" aria-label="Offer list">
              <!-- QuickScan -->
              <article class="offer" data-offer="quickscan" aria-label="Copilot QuickScan">
                <div class="offerTop">
                  <h3>Copilot QuickScan</h3>
                  <span class="tag">5–7 business days</span>
                </div>
                <p>Fast Copilot governance and evidence pack: posture, oversharing exposure paths, boundaries, and decision options.</p>

                <div class="offerMeta">
                  <div class="kv"><strong>Indicative:</strong> $3,500–$9,500 CAD</div>
                  <div class="kv"><strong>Best for:</strong> Copilot rollout</div>
                </div>

                <ul>
                  <li>Decision-ready executive memo</li>
                  <li>Boundary and exposure map</li>
                  <li>Prioritized control checklist</li>
                </ul>

                <div class="offerActions">
                  <a class="btn" data-cta="pay" href="#" rel="nofollow">Pay by card</a>
                  <a class="btn" data-cta="start" data-rid="1" href="/gate/intake/?need=quickscan">Start via Gate</a>
                  <a class="btn" data-cta="po" data-rid="1" href="/gate/procurement/?focus=quickscan">Invoice / PO</a>
                  <a class="btn ghost" href="#" data-copy-offer="quickscan">Copy summary</a>
                  <a class="btn ghost" href="/copilot/quickscan/">Details</a>
                </div>
              </article>

              <!-- Trust Brief -->
              <article class="offer" data-offer="trustbrief" aria-label="Trust Brief">
                <div class="offerTop">
                  <h3>Trust Brief (6-week)</h3>
                  <span class="tag">6 weeks</span>
                </div>
                <p>Structured diagnostic to map material AI use-cases, decision points, risks, and an initial operating model—ready for leadership review.</p>

                <div class="offerMeta">
                  <div class="kv"><strong>Indicative:</strong> $12,000–$35,000 CAD</div>
                  <div class="kv"><strong>Best for:</strong> board/regulator pressure</div>
                </div>

                <ul>
                  <li>Material use-case map + owners</li>
                  <li>Decision gates + operating model draft</li>
                  <li>Board-ready roadmap + first ledger entries</li>
                </ul>

                <div class="offerActions">
                  <a class="btn" data-cta="pay" href="#" rel="nofollow">Pay by card</a>
                  <a class="btn" data-cta="start" data-rid="1" href="/gate/intake/?need=trustbrief">Start via Gate</a>
                  <a class="btn" data-cta="po" data-rid="1" href="/gate/procurement/?focus=brief">Invoice / PO</a>
                  <a class="btn ghost" href="#" data-copy-offer="trustbrief">Copy summary</a>
                  <a class="btn ghost" href="/trust-brief/">Details</a>
                </div>
              </article>

              <!-- Trust Ledger -->
              <article class="offer" data-offer="trustledger" aria-label="Trust Ledger">
                <div class="offerTop">
                  <h3>Trust Ledger</h3>
                  <span class="tag">Setup + cadence</span>
                </div>
                <p>Maintained register of AI systems, safeguards, sign-offs, and evidence—kept ready for recurring scrutiny (board, audit, regulator).</p>

                <div class="offerMeta">
                  <div class="kv"><strong>Indicative:</strong> setup + monthly</div>
                  <div class="kv"><strong>Best for:</strong> recurring scrutiny</div>
                </div>

                <ul>
                  <li>Ledger register + evidence index</li>
                  <li>Board export cadence (agreed)</li>
                  <li>Change trail + exception discipline</li>
                </ul>

                <div class="offerActions">
                  <a class="btn" data-cta="pay" href="#" rel="nofollow">Pay by card</a>
                  <a class="btn" data-cta="start" data-rid="1" href="/gate/intake/?need=trustledger">Start via Gate</a>
                  <a class="btn" data-cta="po" data-rid="1" href="/gate/procurement/?focus=ledger">Invoice / PO</a>
                  <a class="btn ghost" href="#" data-copy-offer="trustledger">Copy summary</a>
                  <a class="btn ghost" href="/trust-ledger/">Details</a>
                </div>
              </article>

              <!-- Playbook Pro -->
              <article class="offer" data-offer="playbook" aria-label="Playbook Pro">
                <div class="offerTop">
                  <h3>Playbook Pro</h3>
                  <span class="tag">One-time (upgrade)</span>
                </div>
                <p>Reusable governance kit for teams or agencies: due diligence patterns, incident patterns, and board-ready brief structures.</p>

                <div class="offerMeta">
                  <div class="kv"><strong>Indicative:</strong> $250–$8,000 CAD</div>
                  <div class="kv"><strong>Best for:</strong> enablement</div>
                </div>

                <ul>
                  <li>Templates for policy/control/risk formats</li>
                  <li>Client/board-ready brief structures</li>
                  <li>Routes into delivery packages</li>
                </ul>

                <div class="offerActions">
                  <a class="btn" data-cta="pay" href="#" rel="nofollow">Pay by card</a>
                  <a class="btn" data-cta="start" data-rid="1" href="/gate/intake/?need=playbook-pro">Start via Gate</a>
                  <a class="btn" data-cta="po" data-rid="1" href="/gate/procurement/?focus=playbook">Invoice / PO</a>
                  <a class="btn ghost" href="#" data-copy-offer="playbook">Copy summary</a>
                  <a class="btn ghost" href="/playbook/pro/">Details</a>
                </div>
              </article>
            </div>

            <div class="notice">
              <strong>Checkout rule (buyer-safe):</strong>
              card checkout is intended for standard scopes. If scope/constraints differ (multiple business units, high sensitivity, unusual procurement constraints),
              use <a data-rid="1" href="/gate/intake/?need=trustbrief">Gate intake</a> and route to the correct lane.
            </div>

            <div class="notice">
              <strong>Tax note:</strong> prices discussed pre-tax. Applicable GST is added at invoicing.
            </div>
          </div>
        </section>
      </div>

      <!-- RIGHT -->
      <aside class="rail" aria-label="Sales shortcuts">
        <div class="railBox card">
          <div class="hd">
            <h2 class="cardTitle">Buyer path</h2>
            <p class="muted">Switch between card checkout and procurement-led purchase.</p>
          </div>

          <div class="bd">
            <div class="seg" role="tablist" aria-label="Buyer type">
              <button id="nfBuyerCard" type="button" role="tab" aria-selected="true"><strong>Card</strong> checkout</button>
              <button id="nfBuyerProc" type="button" role="tab" aria-selected="false"><strong>Procurement</strong> (PO)</button>
            </div>

            <div class="kpi" id="nfBuyerNote" role="note" style="margin-top:12px;"></div>

            <div class="kpi" id="nfSelected">
              <strong>Selected:</strong> Copilot QuickScan
            </div>

            <div class="ridBox" id="nfRID" aria-label="Request ID"></div>

            <div class="kpi" aria-label="Primary CTAs">
              <strong>Next step</strong><br/>
              Primary CTA changes with buyer type.
              <div class="actions" style="margin-top:10px">
                <a class="btn primary" id="nfRailPrimary" href="#" rel="nofollow">Pay by card (Checkout)</a>
                <a class="btn secondary" id="nfRailSecondary" data-rid="1" href="/gate/intake/?need=quickscan">Start via Gate</a>
                <a class="btn secondary" id="nfRailTertiary" data-rid="1" href="/gate/procurement/?focus=quickscan">Invoice / PO</a>
              </div>
              <div class="mini" style="margin-top:10px">
                Sales: <a href="mailto:sales@noetfield.com">sales@noetfield.com</a><br/>
                Procurement: <a href="mailto:procurement@noetfield.com">procurement@noetfield.com</a>
              </div>
            </div>

            <div class="kpi" aria-label="Procurement summary builder">
              <strong>Procurement summary</strong><br/>
              Copy/email a ready internal approval summary.
              <div class="field">
                <label for="nfOfferSelect">Offer</label>
                <select id="nfOfferSelect">
                  <option value="quickscan">Copilot QuickScan</option>
                  <option value="trustbrief">Trust Brief (6-week)</option>
                  <option value="trustledger">Trust Ledger</option>
                  <option value="playbook">Playbook Pro</option>
                </select>
              </div>
              <div class="field">
                <label for="nfSummary">Summary</label>
                <textarea id="nfSummary" readonly></textarea>
              </div>
              <div class="actions" aria-label="Summary actions">
                <button class="btn secondary" id="nfCopy" type="button">Copy summary</button>
                <button class="btn primary" id="nfEmail" type="button">Email procurement</button>
              </div>
            </div>

            <div class="notice" role="note" style="margin-top:12px;">
              <strong>Public intake = non-confidential.</strong> Do not submit secrets or regulated personal data on public forms.
            </div>
          </div>
        </div>
      </aside>
    </section>
  </main>

  <!-- injected footer -->
  <footer id="nfFooter"></footer>

  <!--
    CHANGELOG (Sales v2.1)
    - Added Direct Checkout CTAs per offer (Pay by card) with a config object (NF_CHECKOUT) for Stripe/hosted links.
    - Introduced Buyer Split: Card checkout vs Procurement (PO) with UI toggle; persists in localStorage.
    - CTA emphasis changes by buyer type:
        * Card buyer: Pay by card becomes primary where enabled; otherwise Start via Gate is primary.
        * Procurement buyer: Invoice/PO becomes primary; Pay by card is de-emphasized.
    - Maintained Gate-first routing (/gate/intake/?need=...) and procurement routing (/gate/procurement/?focus=...).
    - Kept RID continuity across links and generated procurement-ready summaries for internal approvals.

    SMOKE TEST
    - GET /gate/sales/ returns 200
    - /assets/noetfield-shell.css returns 200 and styles apply
    - /assets/noetfield-shell.js returns 200 and injects header/footer into #nfHeader/#nfFooter
    - RID:
      - First load generates ?rid=NF-YYYYMMDD-XXXXXX and localStorage nf_rid
      - Subsequent loads preserve rid
      - All data-rid links append rid without duplication
    - Buyer toggle:
      - Switching Card/Proc changes primary CTA emphasis instantly
      - Persists across refresh (localStorage nf_buyer)
    - Checkout:
      - If NF_CHECKOUT.offerKey is empty => Pay by card is disabled
      - If set => Pay by card links to checkout with rid appended as query param
  -->
</body>
</html>
