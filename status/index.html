<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Noetfield – Status</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta
    name="description"
    content="Check Noetfield request status by Request ID. Board-ready governance routing, intake acknowledgement, and next-step updates — without sharing confidential data."
  />
  <meta name="robots" content="index,follow" />
  <meta name="author" content="Noetfield Systems Inc." />
  <meta name="theme-color" content="#07070b" />

  <link rel="canonical" href="https://www.noetfield.com/status/" />

  <link rel="icon" href="/noetfield-favicon-512.png" type="image/png" />
  <link rel="apple-touch-icon" href="/noetfield-favicon-512.png" />

  <!-- OG -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Noetfield" />
  <meta property="og:title" content="Noetfield – Status" />
  <meta
    property="og:description"
    content="Check Noetfield request status by Request ID."
  />
  <meta property="og:url" content="https://www.noetfield.com/status/" />
  <meta property="og:image" content="https://www.noetfield.com/noetfield-og.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Noetfield – Status" />
  <meta
    name="twitter:description"
    content="Check Noetfield request status by Request ID."
  />
  <meta name="twitter:image" content="https://www.noetfield.com/noetfield-og.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
    rel="stylesheet"
  />

  <!-- LOCKED SHELL -->
  <link rel="stylesheet" href="/assets/noetfield-shell.css" />
  <script src="/assets/noetfield-shell.js" defer></script>

  <!-- Page-only styles -->
  <style>
    .hero{padding:22px 0 14px}
    .heroShell{
      position:relative;
      border-radius: calc(var(--radius) + 8px);
      border: 1px solid rgba(255,255,255,.11);
      background:
        radial-gradient(1000px 420px at 18% 0%, rgba(200,163,73,.18), transparent 60%),
        radial-gradient(1000px 420px at 90% 10%, rgba(122,167,255,.10), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.022));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .heroShell::before{
      content:"";
      position:absolute; inset:-1px;
      background: linear-gradient(120deg, rgba(200,163,73,.26), transparent 30%, rgba(255,255,255,.08) 68%, transparent);
      opacity:.44;
      pointer-events:none;
      mask-image: linear-gradient(180deg, black 0%, black 58%, transparent 96%);
    }
    .heroInner{padding: 24px 22px}

    .eyebrow{
      display:inline-flex; gap:10px; align-items:center;
      color:var(--muted);
      font-size:13px;
      padding:9px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.13);
      background: rgba(255,255,255,.035);
    }
    .dot{
      width:8px; height:8px; border-radius:50%;
      background: rgba(200,163,73,.97);
      box-shadow: 0 0 0 3px rgba(200,163,73,.18);
    }

    h1{margin:14px 0 10px; font-size:40px; line-height:1.07; letter-spacing:-0.75px}
    .lead{margin:0; color:var(--muted); font-size:16px; max-width: 980px; line-height:1.75}
    .lead strong{color:var(--text); font-weight:800}

    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:18px;
      margin: 18px 0 34px;
      align-items:start;
    }
    .card{
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.11);
      background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.022));
      box-shadow: var(--shadow2);
      overflow:hidden;
      min-width:0;
    }
    .card .hd{padding:18px 18px 0}
    .card h2{margin:0 0 8px; font-size:18px; letter-spacing:-0.2px}
    .card p{margin:0 0 12px; color:var(--muted); line-height:1.7}
    .card .bd{padding:18px}

    .ridBar{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-top:12px;
      padding:12px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      min-width:0;
    }
    .ridLabel{font-size:11px; letter-spacing:.28em; text-transform:uppercase; color:var(--muted2)}
    .ridValue{
      font-weight:700; color:var(--text); font-size:13px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:520px
    }
    .ridActions{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .miniBtn{
      font-size:13px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      padding:9px 12px;
      border-radius:14px;
      cursor:pointer;
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      color: var(--text);
      text-decoration:none;
      user-select:none;
      transition: border-color .15s ease, background .15s ease, transform .06s ease;
      white-space:nowrap;
    }
    .miniBtn.primary{border-color: rgba(200,163,73,.38); background: rgba(200,163,73,.10)}
    .miniBtn:hover{border-color:rgba(255,255,255,.22); background:rgba(255,255,255,.06)}
    .miniBtn:active{transform: translateY(1px)}

    label{display:block; font-size:12px; color:var(--muted2); margin:0 0 6px}
    input{
      width:100%;
      background: rgba(10,10,16,.55);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--text);
      padding: 12px 12px;
      border-radius: 14px;
      font-family:inherit;
      font-size:14px;
      transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
    }
    input::placeholder{color: rgba(185,187,207,.55)}
    input:focus{box-shadow: var(--focus); background: rgba(12,12,18,.62)}

    .actions{display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-top:12px}

    .msg{
      display:none;
      margin-top:12px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size:12.5px;
      line-height:1.6;
    }
    .box{
      margin-top:12px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color:var(--muted2);
      font-size:12.5px;
      line-height:1.6;
    }
    .box strong{color:var(--text); font-weight:800}
    .box a{border-bottom:1px solid rgba(255,255,255,.18)}

    .statusCard{
      margin-top:12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding:14px;
    }
    .kRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      padding:10px 0;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .kRow:first-child{border-top:0; padding-top:0}
    .kRow .k{color:var(--muted2); font-size:12px; letter-spacing:.12em; text-transform:uppercase; min-width:140px}
    .kRow .v{color:var(--text); font-size:13.5px; line-height:1.55; flex:1}
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }
    .badge .bDot{
      width:8px; height:8px; border-radius:50%;
      background: rgba(200,163,73,.95);
      box-shadow: 0 0 0 3px rgba(200,163,73,.18);
    }
    .muted{color:var(--muted2)}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}

    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .ridValue{max-width:100%}
    }
    @media (max-width: 760px){
      h1{font-size:30px}
      .ridBar{flex-direction:column; align-items:flex-start}
      .ridActions{width:100%}
      .ridActions .miniBtn{flex:1 1 auto}
      .kRow{flex-direction:column}
      .kRow .k{min-width:0}
    }
  </style>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Noetfield – Status",
    "url": "https://www.noetfield.com/status/",
    "description": "Check Noetfield request status by Request ID.",
    "isPartOf": {"@type":"WebSite","name":"Noetfield","url":"https://www.noetfield.com/"},
    "publisher": {"@type":"Organization","name":"Noetfield Systems Inc."}
  }
  </script>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>
  <a class="skip" href="#main">Skip to content</a>

  <!-- injected header -->
  <div id="nfHeader"></div>

  <main id="main" class="wrap">
    <section class="hero">
      <div class="heroShell">
        <div class="heroInner">
          <div class="eyebrow"><span class="dot"></span> Status</div>
          <h1>Track your request by Request ID.</h1>
          <p class="lead">
            Enter your <strong>Request ID</strong> to view current status. This page is intentionally <strong>non-confidential</strong>:
            it never displays sensitive details and only shows high-level routing and next steps.
          </p>
        </div>
      </div>
    </section>

    <section class="grid">
      <!-- STATUS LOOKUP -->
      <div class="card">
        <div class="hd">
          <h2>Status lookup</h2>
          <p>Paste your Request ID (example: <span class="mono">NF-G-YYYYMMDD-HHMMSS-1234</span>).</p>

          <div class="ridBar" aria-label="Request ID bar">
            <div style="min-width:0">
              <div class="ridLabel">Current Request ID</div>
              <div class="ridValue mono" id="ridText">—</div>
            </div>
            <div class="ridActions">
              <button class="miniBtn" type="button" id="copyRidBtn">Copy</button>
              <a class="miniBtn primary" id="openIntakeBtn" href="/gate/intake/">Open Intake</a>
            </div>
          </div>
        </div>

        <div class="bd">
          <label for="ridInput">Request ID</label>
          <input id="ridInput" type="text" inputmode="latin" autocomplete="off" spellcheck="false" placeholder="NF-G-... or NF-P-..." />

          <div class="actions">
            <button class="btn" id="checkBtn" type="button">Check status</button>
            <button class="btn secondary" id="useCurrentBtn" type="button">Use saved ID</button>
            <a class="btn secondary" href="/gate/">Back to Gate</a>
          </div>

          <div id="msg" class="msg" role="status" aria-live="polite"></div>

          <div class="statusCard" id="statusCard" hidden>
            <div class="kRow">
              <div class="k">Status</div>
              <div class="v">
                <span class="badge"><span class="bDot" aria-hidden="true"></span><span id="stBadge">Received</span></span>
                <span class="muted" id="stTime" style="margin-left:10px;"></span>
              </div>
            </div>

            <div class="kRow">
              <div class="k">Track</div>
              <div class="v" id="stTrack">—</div>
            </div>

            <div class="kRow">
              <div class="k">Lane</div>
              <div class="v" id="stLane">—</div>
            </div>

            <div class="kRow">
              <div class="k">Next step</div>
              <div class="v" id="stNext">—</div>
            </div>

            <div class="kRow">
              <div class="k">Notes</div>
              <div class="v muted" id="stNotes">—</div>
            </div>
          </div>

          <div class="box">
            <strong>Important:</strong> Until the back-end status store is wired, this page shows a safe, client-side preview:
            it confirms your Request ID, track, and lane (if known), and points you to the correct next step.
          </div>
        </div>
      </div>

      <!-- ASIDE -->
      <aside class="card">
        <div class="hd">
          <h2>How Status works</h2>
          <p>What you can and cannot expect from this page.</p>
        </div>
        <div class="bd">
          <div class="box"><strong>Shows:</strong> Request ID, track/lane hints, and next-step links.</div>
          <div class="box"><strong>Does not show:</strong> internal assessments, client data, security details, or documents.</div>
          <div class="box"><strong>If you lost your ID:</strong> re-submit via <a href="/gate/intake/">Gate Intake</a> to generate a new one.</div>

          <div class="box" style="margin-top:14px;">
            <strong>Useful:</strong><br/>
            <a href="/gate/intake/">Gate Intake</a> ·
            <a href="/gate/partners/intake/">Partner Intake</a> ·
            <a href="/privacy/">Privacy</a> ·
            <a href="/contact/">Contact</a>
          </div>
        </div>
      </aside>
    </section>
  </main>

  <!-- injected footer -->
  <div id="nfFooter"></div>

  <!-- Page-only JS: read rid from query/localStorage + simple status rendering -->
  <script>
    (function () {
      var ridText = document.getElementById("ridText");
      var ridInput = document.getElementById("ridInput");
      var copyBtn = document.getElementById("copyRidBtn");
      var openIntakeBtn = document.getElementById("openIntakeBtn");

      var checkBtn = document.getElementById("checkBtn");
      var useCurrentBtn = document.getElementById("useCurrentBtn");

      var msg = document.getElementById("msg");
      var card = document.getElementById("statusCard");

      var stBadge = document.getElementById("stBadge");
      var stTime = document.getElementById("stTime");
      var stTrack = document.getElementById("stTrack");
      var stLane = document.getElementById("stLane");
      var stNext = document.getElementById("stNext");
      var stNotes = document.getElementById("stNotes");

      function sanitizeRID(x){
        x = (x || "").trim();
        if (!x) return "";
        return x.replace(/[^a-zA-Z0-9\-_]/g, "").slice(0, 64);
      }

      function setMsg(text, kind){
        if (!msg) return;
        msg.style.display = "block";
        msg.textContent = text;

        if (kind === "ok") {
          msg.style.borderColor = "rgba(45,227,138,.25)";
          msg.style.background = "rgba(45,227,138,.06)";
        } else if (kind === "err") {
          msg.style.borderColor = "rgba(255,90,90,.25)";
          msg.style.background = "rgba(255,90,90,.06)";
        } else {
          msg.style.borderColor = "rgba(255,255,255,.12)";
          msg.style.background = "rgba(255,255,255,.03)";
        }
      }

      function fallbackCopy(text){
        try{
          var ta = document.createElement("textarea");
          ta.value = text;
          ta.setAttribute("readonly","");
          ta.style.position = "fixed";
          ta.style.left = "-9999px";
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          document.body.removeChild(ta);
          return true;
        } catch(e){
          return false;
        }
      }

      function getSavedRID(){
        var rid = "";
        try { rid = sanitizeRID(localStorage.getItem("nf_gate_rid") || ""); } catch(e){}
        if (!rid) { try { rid = sanitizeRID(localStorage.getItem("nf_partner_rid") || ""); } catch(e){} }
        if (!rid) { try { rid = sanitizeRID(localStorage.getItem("nf_gate_last_submitted_rid") || ""); } catch(e){} }
        if (!rid) { try { rid = sanitizeRID(localStorage.getItem("nf_partner_last_submitted_rid") || ""); } catch(e){} }
        return rid;
      }

      function deriveTrackLaneFromStorage(){
        var track = "";
        var lane = "";
        try { track = (localStorage.getItem("nf_gate_track") || "").trim(); } catch(e){}
        try { lane = (localStorage.getItem("nf_gate_lane") || "").trim(); } catch(e){}
        if (!lane) { try { lane = (localStorage.getItem("nf_partner_lane") || "").trim(); } catch(e){} }
        if (!track) { try { track = (localStorage.getItem("nf_gate_track") || "").trim(); } catch(e){} }
        if (!track) { try { track = (localStorage.getItem("nf_gate_track") || "").trim(); } catch(e){} }
        if (!track) { track = "gate"; }
        return {track: track || "gate", lane: lane || ""};
      }

      function nextStepFor(track, lane){
        if (track === "partners") {
          if (lane === "integration") return {text:"Complete Integration lane application (or partner intake).", href:"/gate/partners/integration/"};
          if (lane === "channel") return {text:"Review Channel lane and proceed to intake.", href:"/gate/partners/channel/"};
          if (lane === "delivery") return {text:"Review Delivery lane and proceed to intake.", href:"/gate/partners/delivery/"};
          return {text:"Open Partners Gate and select a lane.", href:"/gate/partners/"};
        }
        if (lane === "trust-brief") return {text:"Review Trust Brief and expect follow-up within SLA.", href:"/trust-brief/"};
        if (lane === "trust-ledger") return {text:"Review Trust Ledger and expect follow-up within SLA.", href:"/trust-ledger/"};
        return {text:"Open Gate Intake to (re)submit and confirm routing.", href:"/gate/intake/"};
      }

      function renderStatus(rid){
        var meta = deriveTrackLaneFromStorage();
        var track = meta.track || "gate";
        var lane = meta.lane || "";

        var ns = nextStepFor(track, lane);

        if (stBadge) stBadge.textContent = "Received";
        if (stTime) stTime.textContent = "Updated: " + new Date().toLocaleString();
        if (stTrack) stTrack.textContent = track || "gate";
        if (stLane) stLane.textContent = lane ? lane : "—";
        if (stNext) {
          stNext.innerHTML = "";
          var a = document.createElement("a");
          a.href = ns.href;
          a.textContent = ns.text;
          stNext.appendChild(a);
        }
        if (stNotes) stNotes.textContent = "Status store not yet connected. This is a safe preview based on your saved routing context.";

        if (card) card.hidden = false;

        if (openIntakeBtn && rid) openIntakeBtn.href = "/gate/intake/?rid=" + encodeURIComponent(rid);

        setMsg("Loaded Request ID. If you need to change it, paste another ID and click “Check status”.", "ok");
      }

      // init from query or storage
      var params = new URLSearchParams(window.location.search || "");
      var rid = sanitizeRID(params.get("rid")) || getSavedRID();

      if (ridText) ridText.textContent = rid || "—";
      if (ridInput) ridInput.value = rid || "";
      if (rid) renderStatus(rid);

      if (useCurrentBtn) {
        useCurrentBtn.addEventListener("click", function(){
          var saved = getSavedRID();
          if (!saved) {
            setMsg("No saved Request ID found. Submit via Gate Intake to generate one.", "err");
            if (card) card.hidden = true;
            return;
          }
          if (ridInput) ridInput.value = saved;
          if (ridText) ridText.textContent = saved;
          renderStatus(saved);
        });
      }

      if (checkBtn) {
        checkBtn.addEventListener("click", function(){
          var x = sanitizeRID(ridInput ? ridInput.value : "");
          if (!x) {
            setMsg("Please enter a valid Request ID.", "err");
            if (card) card.hidden = true;
            return;
          }
          try { localStorage.setItem("nf_gate_rid", x); } catch(e){}
          if (ridText) ridText.textContent = x;
          renderStatus(x);
        });
      }

      if (copyBtn) {
        copyBtn.addEventListener("click", async function(){
          var x = sanitizeRID((ridInput && ridInput.value) ? ridInput.value : (ridText ? ridText.textContent : ""));
          if (!x || x === "—") {
            setMsg("No Request ID to copy.", "err");
            return;
          }
          try{
            if (navigator.clipboard && navigator.clipboard.writeText) {
              await navigator.clipboard.writeText(x);
            } else {
              var ok = fallbackCopy(x);
              if (!ok) throw new Error("copy");
            }
            copyBtn.textContent = "Copied";
            setTimeout(function(){ copyBtn.textContent = "Copy"; }, 1200);
          } catch(e){
            copyBtn.textContent = "Copy failed";
            setTimeout(function(){ copyBtn.textContent = "Copy"; }, 1200);
          }
        });
      }
    })();
  </script>
</body>
</html>
